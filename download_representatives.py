#!/usr/bin/env python3
"""
Download representative NLST CT series using idc-index.
Generated by NLST CT Acquisition Analysis notebook.
"""

from idc_index import IDCClient

# Initialize IDC client (no authentication required for downloads)
client = IDCClient()

# List of representative SeriesInstanceUIDs
series_uids = ['1.3.6.1.4.1.14519.5.2.1.7009.9004.154032804902040094243713559490', '1.2.840.113654.2.55.314047553821739591629085520556640437258', '1.3.6.1.4.1.14519.5.2.1.7009.9004.156640362884731541203097174511', '1.2.840.113654.2.55.221760170262083317410421571275313269487', '1.2.840.113654.2.55.154596183025472601902508014547512229075', '1.2.840.113654.2.55.223892495254697845073791058058774016570', '1.2.840.113654.2.55.170304785971034342181650359955002661014', '1.3.6.1.4.1.14519.5.2.1.7009.9004.167203483045408857639095733156', '1.3.6.1.4.1.14519.5.2.1.7009.9004.257111818052226587000282847993', '1.3.6.1.4.1.14519.5.2.1.7009.9004.278992675498730944309880982577', '1.3.6.1.4.1.14519.5.2.1.7009.9004.233253643922570418503774287719', '1.3.6.1.4.1.14519.5.2.1.7009.9004.733086154765965465819695855319', '1.3.6.1.4.1.14519.5.2.1.7009.9004.446120418134557663835845900702', '1.3.6.1.4.1.14519.5.2.1.7009.9004.441105416529043363380932190176', '1.2.840.113654.2.55.201655506612925010288892835508800465315', '1.3.6.1.4.1.14519.5.2.1.7009.9004.919216223379924911615465797833', '1.3.6.1.4.1.14519.5.2.1.7009.9004.242079712071558699051299202278', '1.3.6.1.4.1.14519.5.2.1.7009.9004.295310455045405391642755562114', '1.3.6.1.4.1.14519.5.2.1.7009.9004.155682136796606998456894356267', '1.2.840.113654.2.55.330091219482623240054522432469930765363', '1.3.6.1.4.1.14519.5.2.1.7009.9004.201095169663936769948542290144', '1.3.6.1.4.1.14519.5.2.1.7009.9004.293842541786302167508360098817', '1.3.6.1.4.1.14519.5.2.1.7009.9004.617834778270565478282993475869', '1.3.6.1.4.1.14519.5.2.1.7009.9004.195344797572614289877616764543', '1.3.6.1.4.1.14519.5.2.1.7009.9004.261840131606104448047411233035', '1.3.6.1.4.1.14519.5.2.1.7009.9004.102136492893650428036169782021', '1.3.6.1.4.1.14519.5.2.1.7009.9004.243233920577292138649442240317', '1.2.840.113654.2.55.310309040735672349360129308458791106009', '1.2.840.113654.2.55.229477624203342264580867775888850620134', '1.2.840.113654.2.55.129931524337413091771465035428019232784', '1.2.840.113654.2.55.287091428657300092856162782935984503476', '1.3.6.1.4.1.14519.5.2.1.7009.9004.226420772567288035741240692963', '1.2.840.113654.2.55.140563111159321584094131170060719328559', '1.2.840.113654.2.55.48995485399121652606738720093881412631', '1.2.840.113654.2.55.164217626480190476878564152695423139428', '1.2.840.113654.2.55.298854893748984534002057562092121758997', '1.2.840.113654.2.55.279492734292134753419794929571589401481', '1.2.840.113654.2.55.95242108788048571766203081639306629257', '1.2.840.113654.2.55.4873705810622904031106677385023945374', '1.3.6.1.4.1.14519.5.2.1.7009.9004.258670956660823211051324130209', '1.3.6.1.4.1.14519.5.2.1.7009.9004.600393023264914244206809778313', '1.3.6.1.4.1.14519.5.2.1.7009.9004.307853467711025882996136727237']

# Download series
print(f"Downloading {len(series_uids)} representative series...")
client.download_from_selection(
    seriesInstanceUID=series_uids,
    downloadDir="./Desktop/nlst_representative_series",
    dirTemplate="%collection_id/%PatientID/%SeriesInstanceUID"
)
print("Download complete!")
